<div class="container">
  <div class="row pt-5" *ngIf="formSectionFor1">
    <div class="col-sm-3"></div>
    <div class="col-sm-6">
      <form #ticketForm="ngForm" (ngSubmit)="raiseTicketFunction(ticketForm)">
        <div class="form-group">
          <label for="exampleFormControlInput1">
            Name
            <span class="stricStyle">*</span>
          </label>
          <input
            type="text"
            class="form-control formField"
            id="exampleFormControlInput1"
            name="name"
            ngModel
            #Name="ngModel"
            required
            minlength="3"
          />
          <div class="error_div_height">
            <div *ngIf="Name.invalid && (Name.dirty || Name.touched)">
              <div *ngIf="Name.errors.required">
                <small class="validation-messages">
                  Please enter your name
                </small>
              </div>
              <div *ngIf="Name.errors.minlength">
                <small class="validation-messages">
                  Name must be atleast 3 characters
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlInput1">
            Email
            <span class="stricStyle">*</span>
          </label>
          <input
            type="email"
            class="form-control formField"
            id="exampleFormControlInput1"
            placeholder="name@example.com"
            name="email"
            [pattern]="emailPattern"
            ngModel
            #Email="ngModel"
            required
          />
          <div class="error_div_height">
            <div *ngIf="Email.invalid && (Email.dirty || Email.touched)">
              <div *ngIf="Email.errors.required">
                <small class="validation-messages">
                  Please provide your email id
                </small>
              </div>
              <div *ngIf="Email.errors.pattern">
                <small class="validation-messages">
                  Email must be a valid email address
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlSelect1">
            Category
            <span class="stricStyle">*</span>
          </label>
          <select
            class="form-control formField"
            id="exampleFormControlSelect1"
            name="category"
            ngModel
            #Category="ngModel"
            required
            (ngModelChange)="categorySelected($event)"
          >
            <option *ngFor="let data of category" [value]="data">
              {{ data }}
            </option>
          </select>
          <div class="error_div_height">
            <div
              *ngIf="Category.invalid && (Category.dirty || Category.touched)"
            >
              <div *ngIf="Category.errors.required">
                <small class="validation-messages">
                  Please select a category option
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlSelect1">
            Sub Category
            <span class="stricStyle">*</span>
          </label>
          <select
            class="form-control formField"
            id="exampleFormControlSelect1"
            name="sub_category"
            ngModel
            #SubCategory="ngModel"
            required
            (ngModelChange)="subCategorySelected($event)"
          >
            <option *ngFor="let data of subCategory" [value]="data.name">
              {{ data.name }}
            </option>
          </select>
          <div class="error_div_height">
            <div
              *ngIf="
                SubCategory.invalid &&
                (SubCategory.dirty || SubCategory.touched)
              "
            >
              <div *ngIf="SubCategory.errors.required">
                <small class="validation-messages">
                  Please select a sub category option
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlTextarea1">
            Comment
            <span class="stricStyle">*</span>
          </label>
          <textarea
            class="form-control formField"
            id="exampleFormControlTextarea1"
            rows="3"
            name="Comments"
            ngModel
            #Comments="ngModel"
            required
            minlength="10"
            maxlength="500"
          ></textarea>
          <div class="error_div_height">
            <div
              *ngIf="Comments.invalid && (Comments.dirty || Comments.touched)"
            >
              <div *ngIf="Comments.errors.required">
                <small class="validation-messages">
                  Please provide your comments
                </small>
              </div>
              <div *ngIf="Comments.errors.minlength">
                <small class="validation-messages">
                  comment must be atleast 10 chars
                </small>
              </div>
              <div *ngIf="Comments.errors.maxlength">
                <small class="validation-messages">
                  comment must be more than 500 chars
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-primary text-center" type="submit">
            Submit
          </button>
        </div>
      </form>
    </div>
    <div class="col-sm-3"></div>
  </div>

  <!-- show ticket section starts here -->
  <div class="row pt-5" *ngIf="!formSectionFor1">
    <div class="col-sm-3"></div>
    <div class="col-sm-6">
      <form>
        <div class="form-group row">
          <label
            for="colFormLabelSm"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            Ticket N.
          </label>
          <div class="col-sm-10">
            <p>NAN</p>
          </div>
        </div>
        <div class="form-group row">
          <label
            for="colFormLabelSm"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            Email
          </label>
          <div class="col-sm-10">
            <p>{{ ticketFormData.email }}</p>
          </div>
        </div>
        <div class="form-group row">
          <label
            for="colFormLabelSm"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            Category
          </label>
          <div class="col-sm-10">
            <p>{{ ticketFormData.category }}</p>
          </div>
        </div>
        <div class="form-group row">
          <label
            for="colFormLabelSm"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            Sub Category
          </label>
          <div class="col-sm-10">
            <p>{{ ticketFormData.sub_category }}</p>
          </div>
        </div>
        <div class="form-group row">
          <label
            for="colFormLabelSm"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            comment
          </label>
          <div class="col-sm-10">
            <textarea
              class="form-control formField"
              id="exampleFormControlTextarea1"
              rows="6"
              maxlength="500"
              disabled
              >{{ ticketFormData.Comments }}</textarea
            >
          </div>
        </div>

        <div class="form-group row">
          <label
            for="colFormLabelSm"
            class="col-sm-2 col-form-label col-form-label-sm"
          >
            
          </label>
          <div class="col-sm-10">
            <button class="btn btn-primary" (click)="editTicket()" >Edit</button>
            <a class="btn btn-primary text-center ml-3" (click)="replyTicket()">Reply</a>
    
          </div>
        </div>


        <!-- <button class="btn btn-primary" (click)="editTicket()">Edit</button>
        <a class="btn btn-primary text-center ml-3" (click)="replyTicket()">Reply</a> -->
      </form>
    </div>
    <div class="col-sm-3"></div>
  </div>
<!-- ticket show section end here -->

<!-- Edit ticket details starts here -->
  <div class="row pt-5" *ngIf="editTicketData">
    <div class="col-sm-3"></div>
    <div class="col-sm-6">
      <form #ticketForm="ngForm" (ngSubmit)="raiseTicketFunction(ticketForm)">
        <div class="form-group">
          <label for="exampleFormControlInput1">
            Name
            <span class="stricStyle">*</span>
          </label>
          <input
            type="text"
            class="form-control formField"
            id="exampleFormControlInput1"
            name="name"
            [(ngModel)]="ticketFormData.name"
            #Name="ngModel"
            required
            minlength="3"
          />
          <div class="error_div_height">
            <div *ngIf="Name.invalid && (Name.dirty || Name.touched)">
              <div *ngIf="Name.errors.required">
                <small class="validation-messages">
                  Please enter your name
                </small>
              </div>
              <div *ngIf="Name.errors.minlength">
                <small class="validation-messages">
                  Name must be atleast 3 characters
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlInput1">
            Email
            <span class="stricStyle">*</span>
          </label>
          <input
            type="email"
            class="form-control formField"
            id="exampleFormControlInput1"
            placeholder="name@example.com"
            name="email"
            [pattern]="emailPattern"
            [(ngModel)]="ticketFormData.email"
            #Email="ngModel"
            required
          />
          <div class="error_div_height">
            <div *ngIf="Email.invalid && (Email.dirty || Email.touched)">
              <div *ngIf="Email.errors.required">
                <small class="validation-messages">
                  Please provide your email id
                </small>
              </div>
              <div *ngIf="Email.errors.pattern">
                <small class="validation-messages">
                  Email must be a valid email address
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlSelect1">
            Category
            <span class="stricStyle">*</span>
          </label>
          <select
            class="form-control formField"
            id="exampleFormControlSelect1"
            name="category"
            [(ngModel)]="ticketFormData.category"
            #Category="ngModel"
            required
            (ngModelChange)="categorySelected($event)"
          >
            <option *ngFor="let data of category" [value]="data">
              {{ data }}
            </option>
          </select>
          <div class="error_div_height">
            <div
              *ngIf="Category.invalid && (Category.dirty || Category.touched)"
            >
              <div *ngIf="Category.errors.required">
                <small class="validation-messages">
                  Please select a category option
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlSelect1">
            Sub Category
            <span class="stricStyle">*</span>
          </label>
          <select
            class="form-control formField"
            id="exampleFormControlSelect1"
            name="sub_category"
            [(ngModel)]="ticketFormData.sub_category"
            #SubCategory="ngModel"
            required
            (ngModelChange)="subCategorySelected($event)"
          >
            <option *ngFor="let data of subCategory" [value]="data.name">
              {{ data.name }}
            </option>
          </select>
          <div class="error_div_height">
            <div
              *ngIf="
                SubCategory.invalid &&
                (SubCategory.dirty || SubCategory.touched)
              "
            >
              <div *ngIf="SubCategory.errors.required">
                <small class="validation-messages">
                  Please select a sub category option
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlTextarea1">
            Comment
            <span class="stricStyle">*</span>
          </label>
          <textarea
            class="form-control formField"
            id="exampleFormControlTextarea1"
            rows="3"
            name="Comments"
            [(ngModel)]="ticketFormData.Comments"
            #Comments="ngModel"
            required
            minlength="10"
            maxlength="500"
          ></textarea>
          <div class="error_div_height">
            <div
              *ngIf="Comments.invalid && (Comments.dirty || Comments.touched)"
            >
              <div *ngIf="Comments.errors.required">
                <small class="validation-messages">
                  Please provide your comments
                </small>
              </div>
              <div *ngIf="Comments.errors.minlength">
                <small class="validation-messages">
                  comment must be atleast 10 chars
                </small>
              </div>
              <div *ngIf="Comments.errors.maxlength">
                <small class="validation-messages">
                  comment must be more than 500 chars
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-primary text-center" type="submit">
            Submit
          </button>
        </div>
      </form>
    </div>
    <div class="col-sm-3"></div>
  </div>
  <!-- Edit ticket details ends here -->



  <!-- Reply for a ticket starts here -->
  <div class="row pt-5" *ngIf="empReplyForm">
    <div class="col-sm-3"></div>
    <div class="col-sm-6">
      <form #ticketReplyForm="ngForm" (ngSubmit)="empReplyForTicket(ticketReplyForm)">
        <div class="form-group">
          <label for="exampleFormControlInput1">
            Name
            <span class="stricStyle">*</span>
          </label>
          <input
            type="text"
            class="form-control formField"
            id="exampleFormControlInput1"
            name="name"
            ngModel
            #Name="ngModel"
            required
            minlength="3"
          />
          <div class="error_div_height">
            <div *ngIf="Name.invalid && (Name.dirty || Name.touched)">
              <div *ngIf="Name.errors.required">
                <small class="validation-messages">
                  Please enter your name
                </small>
              </div>
              <div *ngIf="Name.errors.minlength">
                <small class="validation-messages">
                  Name must be atleast 3 characters
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlTextarea1">
            Comment
            <span class="stricStyle">*</span>
          </label>
          <textarea
            class="form-control formField"
            id="exampleFormControlTextarea1"
            rows="3"
            name="Comments"
            ngModel
            #Comments="ngModel"
            required
            minlength="10"
            maxlength="500"
          ></textarea>
          <div class="error_div_height">
            <div
              *ngIf="Comments.invalid && (Comments.dirty || Comments.touched)"
            >
              <div *ngIf="Comments.errors.required">
                <small class="validation-messages">
                  Please provide your comments
                </small>
              </div>
              <div *ngIf="Comments.errors.minlength">
                <small class="validation-messages">
                  comment must be atleast 10 chars
                </small>
              </div>
              <div *ngIf="Comments.errors.maxlength">
                <small class="validation-messages">
                  comment must be more than 500 chars
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-primary text-center" type="submit">
            Submit
          </button>
        </div>
      </form>
    </div>
    <div class="col-sm-3"></div>
  </div>
  <!-- Reply for a ticket ends here -->



  <!--Show the Reply of a ticket starts here -->
  <div class="row">
    <div class="col-sm-3"></div>
    <div class="col-sm-6" >
      <div class="row" *ngFor="let item of chatArraythirdIdea">
        <div class="chatSection">
          <p class="chatPerson">{{item.name}}</p>
          <p class="chatTextArea">{{item.Comments}}</p>
        </div>
      </div>
    </div>
    <div class="col-sm-3"></div>
  </div>
  <!--Show the Reply of a ticket ends here -->


</div>
